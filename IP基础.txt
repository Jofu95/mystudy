一、IP基本知识：IP的作用、IP与MAC的关系
二、IP地址的基础知识：
		IP地址的定义、IP地址的分类、无分类IP地址、共有IP地址与私有IP地址、
		IP地址与路由控制、IP分片与重组、IPV6基本知识、IPV4首部与IPV6首部
三、IP协议相关技术：
		DNS域名解析、ARP与RARP协议、DHCP动态获取IP地址、NAT网络地址转换、
		ICMP互联网控制报文协议、IGMP因特网组管理协议


IP基础知识：
	目前互联网大豆基于TCP/IP协议栈，TCP/IP参考模型包含四层结构：
		1、接入层：对应于OSI的物理层和数据链路层，实现局域网和广域网技术细节
		2、网络层：对应OSI网络层，提供端到端的可达性、最佳路径的选择及数据的转发
		3、传输层：对应OSI传输层，传输可靠性的保证，包含TCP协议和UDP协议
		4、应用层：对应OSI会话层、表示层、应用层，主要是应用层的协议栈
	IP在TCP/IP参考模型中处于处于网络层。作用是实现主机与主机之间的通信，也叫点对点通信
	
	网络层(IP)与数据链路层(MAC)的关系？
		IP是实现主机与主机之间的通信(没有直连的两个网络之间进行通信)，负责将数据包发送给最终目的地址
		MAC是实现直连的两个设备之间的通信，只负责某一区间的通信传输
		源IP地址和目标IP地址在传输过程中不会发生改变，源MAC地址和目标MAC地址一直在变化
		

IP地址的基础知识：
	在TCP/IP网络通信时，为保证能正常通信，每个设备都需要配置正确的IP地址，否则无法实现正常通信
	IP地址(IPV4地址)由32位正整数来表示，IP地址在计算机是以二进制的方式处理的
	为方便记忆，采用点分十进制的标记方法：
		将32为IP地址以每8位为组，共分4组，每组以.隔开，再将每组转换位十进制
	每块网卡可分配一个以上IP地址
	
	IP地址分类：
		IP地址分为5种类型：A类、B类、C类、D类、E类
		A类		0          网路号(7位)      主机号(24位)
		B类		10         网络号(14位)     主机号(16位)
		C类		110        网络号(21位)     主机号(8位)
		D类		1110          组播地址(28位)
		E类		11110         留待后用(27位)
		
		A、B、C类主要分为两部分分别为网络号和主机号
		A		0.0.0.0   ~ 127.255.255.255		16777214=2^24 - 2
		B		128.0.0.0 ~ 192.255.255.255		65534=2^16 -2
		C		192.0.0.0 ~ 223.255.255.255		254=2^8 - 2
		在IP地址中，有两个特殊IP，分别为主机号全为1和全为0的地址，应该去掉
		主机号全为1指定某个网络下的所有主机，用于广播
		主机号全为0指定某个网络
		
		广播地址用于什么？
			IP地址主机号全为1，为广播地址
			用于在同一个链路中相互连接的主机之间发送数据包
			广播地址分为本地广播和直接广播
				在本网络内广播叫本地广播；在不同网络之间的广播叫直接广播
		
		D类和E类地址没有主机号，所以不可用于主机IP，D类常于用多播，E类是预留部分，暂未使用
		D		224.0.0.0 ~ 239.255.255.255		IP多播
		E		240.0.0.0 ~ 255.255.255.255		预留使用
		
		多播地址用于什么？
			用于将包发送给特定组内的所有主机(广播无法穿透路由，多播可穿透路由跨网段发送数据包)
			
		多播使用D类地址，前四位1110表示多播地址，剩余28位表示多播组编号
		在D类地址范围类，划分为三类：
			224.0.0.0 ~ 224.0.0.255     预留组播地址，只能局域网中，路由器不会进行转发
			224.0.1.0 ~ 238.255.255.255 用户可用组播地址，可用于Internet
			239.0.0.0 ~ 239.255.255.255 本地管理组播地址，供内网使用，本地范围有效
		
		IP分类优点：简单明了、选路(基于网络地址)简单
		IP分类缺点：
			1.同一网络下没有地址层次，缺少地址的灵活性
			2.A、B、C类不能很好的与实现网络匹配
			
	无分类地址CIDR：
		32位的IP地址分为两部分：网络号、主机号
		
		怎么划分网络号和主机号？
			表示形式 a.b.c.d/x ，其中 /x 表示前 x 位属于网络号，x 范围是0 ~ 32 
			另一种划分形式是子网掩码，就是掩盖掉主机号，剩余部分就是网络号
			将子网掩码和IP地址按位计算AND，就可以得到网络号
		
		为什么分离网络号和主机号？
			两台计算机通信，首先要判断是否处于同一广播域内，即网络地址是否相同。
			如果相同，表明接收方在本网络中，可直接发送数据包到目标主机，
			路由器寻址就是通过这种方式来找对应网络号，进而把数据包转发给对应网络内
		
		怎样进行子网划分？
			可通过子网掩码划分网络号和主机号，还可划分子网。
			子网划分是将主机地址分为两部分，子网网络地址和子网主机地址
			未作子网划分的IP地址：网络地址 + 主机地址
			做了子网划分的IP地址：网络地址 + （子网网络地址+子网主机地址）
			
	公有IP地址和私有IP地址：
		在A、B、C分类地址，实际上分公有IP和私有IP地址
		A类 10.0.0.0     ~    10.255.255.255
		B类 172.16.0.0   ~    172.31.255.255
		C类 192.168.0.0  ~    192.168.255.255
		公有IP地址是有个组织统一分配，互联网范围内保持唯一
		私有IP地址只限定在某个网络内，不同网络之间相同IP互不影响
		
		公有IP地址由谁管理？
			私有IP地址通常是内部人员管理，公有IP地址是由ICANN组织管理。
			IANA是ICANN其中一个机构，负责分配互联网IP地址
			ARIN北美地区、LACNIC拉丁美洲和一些加勒比群岛、RIPE NCC欧洲和中东和中亚、AfriNIC非洲地区、APNIC亚太地区
			中国由CNNIC机构进行管理
			
	IP地址和路由控制：
		IP地址的网络地址部分是用于进行路由控制。
		路由控制表中记录这网络地址与下一步应该发送至路由器的地址，在主机和路由器上都会有各自的路由器控制表
		
		在发送IP包时，首先确定IP包首部中的目标地址，在从路由控制表中找到与该地址具有相同网络地址的记录，再根据
		记录将IP包装发给相应的下一个路由器。如果路由控制表中包含多个相同网络地址记录，就选择相同位数最多的网络
		地址，也就是最长匹配。
		
		环回地址是在同一台计算机上的程序之间进行网络通信时所使用的默认地址(使用环回地址时数据包不会流向网络)
		计算机使用一个特殊的IP地址127.0.0.1作为环回地址，与该地址有相同意义的是localhost主机名
		
	IP分片与重组：
		每种数据链路的最大传输单元MTU都是不相同的，因为不同数据链路使用目的不同，承载的MTU不同
		常见的数据链路是以太网，他的MTU是1500字节。
		当IP数据包大小大于MTU时，就会将IP数据包进行分片，再到目标主机进行重组(路由器不会进行重组)
		在分片传输中，一旦某个分片丢失就会导致整个数据包作废，所以TCP引入MSS也就是在TCP层进行分片不由IP层分片
	
	IPV6基本知识:
		IPV4地址是32位大约有42亿个地址，IPV6地址是128位。IPV4与IPV6不能相互兼容
		好处：
			IPV6可自动配置，即使没有DHCP服务器也可实现自动分配IP地址
			IPV6包头包首部长度采用固定的值40字节，去掉包头校验和，简化首部结构，减轻路由器负荷，提高传输性能
			IPV6有对应伪造IP地址的网络安全功能以及防止线路窃听的功能，提升安全性
			...
		I[V6地址的标识方法：
			IPV4地址长度32位，每8位一组，采用点分十进制表示
			IPV6地址长度126位，每16位一组，每组用冒号【:】隔开
			连续出现0时可将0省略，用【::】表示，一个IP地址中只允许出现一次
			
		IPV6地址的结构：
			有以下类型：
				单播地址，用于一对一的通信
				组播地址，用于一对多的通信
				任播地址，用于通信最近的节点，最近的节点是由路由协议决定
				没有广播地址
		
		IPV6单播地址类型：
			主要分为三类单播地址：
				在同一链路单播通信，不经过路由器，可使用链路本地单播地址
				在内网里单播通信，可使用唯一本地地址，相当于IPV4的私有IP
				在互联网通信，可使用全局单播地址，相当于IPV4的公有IP
			
	IPV4首部和IPV6首部：
		IPV6相比IPV4的首部改进：
			取消了首部校验和字段
			取消了分片/重组相关字段
			取消选项字段
	
IP协议相关技术：
	常见的重要技术：
		DNS域名解析、ARP与RARP协议、DHCP动态获取IP地址、NAT网络地址转换、ICMP互联网控制报文协议、IGMP因特网组管理协议
	
	DNS:
		DNS域名解析，将域名自动转换为具体的IP地址
		
		域名的层级关系：
			DNS中的域名都是用句点来分隔，句点代表了不同层次的界限
			在域名中，越靠右的位置表示的层级越高
			树状结构：
				根域DNS服务器
				顶级域DNS服务器
				权威DNS服务器
			根域DNS服务器信息保存在互联网中所有的DNS服务器中
			
		域名解析工作流程：
			浏览器会先查看自己缓存里是否存在该域名的IP，没有就向操作系统的缓存要，
			还没有就检查本机域名解析文件hosts，还没有DNS服务器就会进行查询。
			客户端发出DNS请求，询问域名的IP地址，并发送给本地DNS服务器，本地域名服务器哦收到客户端请求后，
			如果在缓存表格里找到该域名就直接返回IP地址，如果没有，本地DNS会去问根域名服务器，根DNS收到本
			地DNS请求后，告诉本地DNS去问顶级域名服务器，顶级域收到请求，再告诉本地DNS去问权威DNS服务器，
			权威DNS服务器查询后将对应的IP地址告诉本地DNS，本地DNS再将IP地址返回给客户端，客户端再与目标建立连接
		
	ARP:
		传输IP数据报时，确定源IP和目标IP地址后，会通过主机[路由表]确定IP数据包下一跳。
		但在网络层的下一层使数据链路层，所以要知道下一跳的MAC地址。
		由于主机的路由表中可以找到下一跳的IP地址，所以可以通过ARP协议，求得下一跳的MAC地址
		
		ARP是借助ARP请求和ARP响应两种类型的包确定MAC地址。
			主机通过广播发送ARP请求，请求包中包含想要的MAC地址的IP地址
			当同个链路中的所有设备收到ARP请求时，会去拆开ARP请求包的内容，如果ARP请求包中的目标IP地址与自己地址一致，
			那么这个设备就会将自己的MAC地址塞入ARP响应包中返回给主机
	
	BARP：
		ARP协议是已知IP地址求MAC地址，BARP协议刚好相反
		通常需要假设一台BARP服务器，在这台服务器上注册设备的MAC地址及其IP地址，然后再将设备接入到网络，
		接着设备会发送一条请求信息给BARP服务器，BARP服务器根据设备的MAC地址，返会对应的IP地址给这个设备
		
	DHCP：
		DHCP交互的4个步骤：
			1.客户端首先发起DHCP发现报文(DHCP DISCOVER)的IP数据报，使用UDP广播通信，
			  广播目的地址255.255.255.255(端口67)，并且使用0.0.0.0(端口68)作为源IP地址。
			  DHCP客户端将IP数据包传递给链路层，链路层然后将帧广播到所有的网络中的设备。
			2.DHCP服务器收到DHCP发现报文时，用DHCP提供报文(DHCP OFFER)向客户端做出响应。
			  该报文携带服务器提供提供可租约的IP地址、子网掩码、默认网关、DNS服务器、IP地址租用期
			3.客户端收到一个或多个服务器的DHCP提供报文后，选其一并发送DHCP请求报文(DHCP REQUEST)进行响应，回显配置参数
			4.服务器端用DHCP ACK报文对DHCP请求报文进行响应，应答所有参数
		一旦客户端收到DHCP ACK报文后，交互便完成，并且客户端能在租用期内使用DHCP服务器分配的IP地址
		如果租约到期，客户端会向服务器发送DHCP请求报文，服务器同意则用DHCP ACK应答延长租期，不同意用DHCP NACK应答停止使用
		
		由于在DHCP交互中，全程使用UDP广播通信，所以当DHCP服务器与客户端不在同一局域网，路由器不能转发广播，致使不能交互
		可使用DHCP中继代理，对不同网段的IP地址分配也可以由同一个DHCP服务器统一进行管理
		
		DHCP客户端会向DHCP中继代理发送DHCP请求包，DHCP中继代理收到广播包后，再以单播形式发送给DHCP服务器，服务器再做应答
		
	NAT：
		网络地址转换NAT缓解IPV4地址耗尽问题。
		简单说NAT就是同公司、家庭、教室内的主机对外部通信时，把私有IP地址转换为公有IP地址(没有意义)
		由于绝大多数网络应用都使用传输层协议TCP或UDP来传输数据，可把IP地址和端口号一起进行转换，叫网络地址与端口转换NAPT
		不同私有IP地址转换为公有相同IP地址，可以不同端口号进行区分
		缺点：(由于NAT/NAPT都依赖自己的的转换表)
			外部无法主动与NAT内部服务器建立连接，NAPT转换表没有转换记录
			转换表的生产与转换操作都会产生性能开销
			通信过程中，NAT路由器重启了，所有的TCP链接将被重置
		
		解决办法：
			1.改用IPV6
			2.NAT穿透技术：客户端主动从NAT设备获取共有IP地址，然后建立端口映射条目，用这个条目对外通信
	
	ICMP（互联网控制报文协议）：
		ICMP主要功能有：确认IP包是否成功送达目标地址、报告发送过程中IP包被废弃的原因和改善网络设置等
		ICMP类型：
			大致分为两类：用于诊断的查询信息（查询报文类型）、通知出错原因的错误信息（差错报文类型）
		
	IGMP：
		工作在主机（组播成员）和最后一跳路由之间
		IGMP工作机制：
			IGMP分为三个版本：IGMPv1、IGMPv2、IGMPv3
			常规查询和响应工作机制：
			离开组播组工作机制：